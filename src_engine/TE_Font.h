#ifndef __TE_FONT_H__
#define __TE_FONT_H__

#include <inttypes.h>
#include "TE_math.h"
#include "TE_Image.h"

typedef struct TE_Font
{
    TE_Img *atlas;
    uint16_t glyphCount;
    const uint16_t *glyphValues;
    const uint16_t *rectXs;
    const uint16_t *rectYs;
    const uint8_t *rectWidths;
    const uint8_t *rectHeights;
} TE_Font;


int TE_Font_drawChar(TE_Img *img, TE_Font *font, int16_t x, int16_t y, char c, uint32_t color, TE_ImgOpState state);
int TE_Font_drawText(TE_Img *img, TE_Font *font, int16_t x, int16_t y, int8_t spacing, const char *text, uint32_t color, TE_ImgOpState state);
int TE_Font_getWidth(TE_Font *font, const char *text, int8_t spacing);
int TE_Font_getLetterWidth(TE_Font *font, const char *c, uint8_t *charWidth);
TE_Vector2_s16 TE_Font_drawTextBox(TE_Img *img, TE_Font *font, int16_t x, int16_t y, uint8_t w, uint8_t h, int8_t wordSpacing, int8_t lineSpacing, const char *text, float alignX, float alignY, uint32_t color, TE_ImgOpState state);

#define STRHX(x) STRHX_##x
#define TX_SPRITE(spriteId, px, py) "\bs" STRHX(spriteId) STRHX(px) STRHX(py)
#define TX_MOVECURSOR_X(dx) "\bx" STRHX(dx)

#define STRHX_0 "\x00"
#define STRHX_1 "\x01"
#define STRHX_2 "\x02"
#define STRHX_3 "\x03"
#define STRHX_4 "\x04"
#define STRHX_5 "\x05"
#define STRHX_6 "\x06"
#define STRHX_7 "\x07"
#define STRHX_8 "\x08"
#define STRHX_9 "\x09"
#define STRHX_10 "\x0a"
#define STRHX_11 "\x0b"
#define STRHX_12 "\x0c"
#define STRHX_13 "\x0d"
#define STRHX_14 "\x0e"
#define STRHX_15 "\x0f"
#define STRHX_16 "\x10"
#define STRHX_17 "\x11"
#define STRHX_18 "\x12"
#define STRHX_19 "\x13"
#define STRHX_20 "\x14"
#define STRHX_21 "\x15"
#define STRHX_22 "\x16"
#define STRHX_23 "\x17"
#define STRHX_24 "\x18"
#define STRHX_25 "\x19"
#define STRHX_26 "\x1a"
#define STRHX_27 "\x1b"
#define STRHX_28 "\x1c"
#define STRHX_29 "\x1d"
#define STRHX_30 "\x1e"
#define STRHX_31 "\x1f"
#define STRHX_32 "\x20"
#define STRHX_33 "\x21"
#define STRHX_34 "\x22"
#define STRHX_35 "\x23"
#define STRHX_36 "\x24"
#define STRHX_37 "\x25"
#define STRHX_38 "\x26"
#define STRHX_39 "\x27"
#define STRHX_40 "\x28"
#define STRHX_41 "\x29"
#define STRHX_42 "\x2a"
#define STRHX_43 "\x2b"
#define STRHX_44 "\x2c"
#define STRHX_45 "\x2d"
#define STRHX_46 "\x2e"
#define STRHX_47 "\x2f"
#define STRHX_48 "\x30"
#define STRHX_49 "\x31"
#define STRHX_50 "\x32"
#define STRHX_51 "\x33"
#define STRHX_52 "\x34"
#define STRHX_53 "\x35"
#define STRHX_54 "\x36"
#define STRHX_55 "\x37"
#define STRHX_56 "\x38"
#define STRHX_57 "\x39"
#define STRHX_58 "\x3a"
#define STRHX_59 "\x3b"
#define STRHX_60 "\x3c"
#define STRHX_61 "\x3d"
#define STRHX_62 "\x3e"
#define STRHX_63 "\x3f"
#define STRHX_64 "\x40"
#define STRHX_65 "\x41"
#define STRHX_66 "\x42"
#define STRHX_67 "\x43"
#define STRHX_68 "\x44"
#define STRHX_69 "\x45"
#define STRHX_70 "\x46"
#define STRHX_71 "\x47"
#define STRHX_72 "\x48"
#define STRHX_73 "\x49"
#define STRHX_74 "\x4a"
#define STRHX_75 "\x4b"
#define STRHX_76 "\x4c"
#define STRHX_77 "\x4d"
#define STRHX_78 "\x4e"
#define STRHX_79 "\x4f"
#define STRHX_80 "\x50"
#define STRHX_81 "\x51"
#define STRHX_82 "\x52"
#define STRHX_83 "\x53"
#define STRHX_84 "\x54"
#define STRHX_85 "\x55"
#define STRHX_86 "\x56"
#define STRHX_87 "\x57"
#define STRHX_88 "\x58"
#define STRHX_89 "\x59"
#define STRHX_90 "\x5a"
#define STRHX_91 "\x5b"
#define STRHX_92 "\x5c"
#define STRHX_93 "\x5d"
#define STRHX_94 "\x5e"
#define STRHX_95 "\x5f"
#define STRHX_96 "\x60"
#define STRHX_97 "\x61"
#define STRHX_98 "\x62"
#define STRHX_99 "\x63"
#define STRHX_100 "\x64"
#define STRHX_101 "\x65"
#define STRHX_102 "\x66"
#define STRHX_103 "\x67"
#define STRHX_104 "\x68"
#define STRHX_105 "\x69"
#define STRHX_106 "\x6a"
#define STRHX_107 "\x6b"
#define STRHX_108 "\x6c"
#define STRHX_109 "\x6d"
#define STRHX_110 "\x6e"
#define STRHX_111 "\x6f"
#define STRHX_112 "\x70"
#define STRHX_113 "\x71"
#define STRHX_114 "\x72"
#define STRHX_115 "\x73"
#define STRHX_116 "\x74"
#define STRHX_117 "\x75"
#define STRHX_118 "\x76"
#define STRHX_119 "\x77"
#define STRHX_120 "\x78"
#define STRHX_121 "\x79"
#define STRHX_122 "\x7a"
#define STRHX_123 "\x7b"
#define STRHX_124 "\x7c"
#define STRHX_125 "\x7d"
#define STRHX_126 "\x7e"
#define STRHX_127 "\x7f"
#define STRHX_128 "\x80"
#define STRHX_129 "\x81"
#define STRHX_130 "\x82"
#define STRHX_131 "\x83"
#define STRHX_132 "\x84"
#define STRHX_133 "\x85"
#define STRHX_134 "\x86"
#define STRHX_135 "\x87"
#define STRHX_136 "\x88"
#define STRHX_137 "\x89"
#define STRHX_138 "\x8a"
#define STRHX_139 "\x8b"
#define STRHX_140 "\x8c"
#define STRHX_141 "\x8d"
#define STRHX_142 "\x8e"
#define STRHX_143 "\x8f"
#define STRHX_144 "\x90"
#define STRHX_145 "\x91"
#define STRHX_146 "\x92"
#define STRHX_147 "\x93"
#define STRHX_148 "\x94"
#define STRHX_149 "\x95"
#define STRHX_150 "\x96"
#define STRHX_151 "\x97"
#define STRHX_152 "\x98"
#define STRHX_153 "\x99"
#define STRHX_154 "\x9a"
#define STRHX_155 "\x9b"
#define STRHX_156 "\x9c"
#define STRHX_157 "\x9d"
#define STRHX_158 "\x9e"
#define STRHX_159 "\x9f"
#define STRHX_160 "\xa0"
#define STRHX_161 "\xa1"
#define STRHX_162 "\xa2"
#define STRHX_163 "\xa3"
#define STRHX_164 "\xa4"
#define STRHX_165 "\xa5"
#define STRHX_166 "\xa6"
#define STRHX_167 "\xa7"
#define STRHX_168 "\xa8"
#define STRHX_169 "\xa9"
#define STRHX_170 "\xaa"
#define STRHX_171 "\xab"
#define STRHX_172 "\xac"
#define STRHX_173 "\xad"
#define STRHX_174 "\xae"
#define STRHX_175 "\xaf"
#define STRHX_176 "\xb0"
#define STRHX_177 "\xb1"
#define STRHX_178 "\xb2"
#define STRHX_179 "\xb3"
#define STRHX_180 "\xb4"
#define STRHX_181 "\xb5"
#define STRHX_182 "\xb6"
#define STRHX_183 "\xb7"
#define STRHX_184 "\xb8"
#define STRHX_185 "\xb9"
#define STRHX_186 "\xba"
#define STRHX_187 "\xbb"
#define STRHX_188 "\xbc"
#define STRHX_189 "\xbd"
#define STRHX_190 "\xbe"
#define STRHX_191 "\xbf"
#define STRHX_192 "\xc0"
#define STRHX_193 "\xc1"
#define STRHX_194 "\xc2"
#define STRHX_195 "\xc3"
#define STRHX_196 "\xc4"
#define STRHX_197 "\xc5"
#define STRHX_198 "\xc6"
#define STRHX_199 "\xc7"
#define STRHX_200 "\xc8"
#define STRHX_201 "\xc9"
#define STRHX_202 "\xca"
#define STRHX_203 "\xcb"
#define STRHX_204 "\xcc"
#define STRHX_205 "\xcd"
#define STRHX_206 "\xce"
#define STRHX_207 "\xcf"
#define STRHX_208 "\xd0"
#define STRHX_209 "\xd1"
#define STRHX_210 "\xd2"
#define STRHX_211 "\xd3"
#define STRHX_212 "\xd4"
#define STRHX_213 "\xd5"
#define STRHX_214 "\xd6"
#define STRHX_215 "\xd7"
#define STRHX_216 "\xd8"
#define STRHX_217 "\xd9"
#define STRHX_218 "\xda"
#define STRHX_219 "\xdb"
#define STRHX_220 "\xdc"
#define STRHX_221 "\xdd"
#define STRHX_222 "\xde"
#define STRHX_223 "\xdf"
#define STRHX_224 "\xe0"
#define STRHX_225 "\xe1"
#define STRHX_226 "\xe2"
#define STRHX_227 "\xe3"
#define STRHX_228 "\xe4"
#define STRHX_229 "\xe5"
#define STRHX_230 "\xe6"
#define STRHX_231 "\xe7"
#define STRHX_232 "\xe8"
#define STRHX_233 "\xe9"
#define STRHX_234 "\xea"
#define STRHX_235 "\xeb"
#define STRHX_236 "\xec"
#define STRHX_237 "\xed"
#define STRHX_238 "\xee"
#define STRHX_239 "\xef"
#define STRHX_240 "\xf0"
#define STRHX_241 "\xf1"
#define STRHX_242 "\xf2"
#define STRHX_243 "\xf3"
#define STRHX_244 "\xf4"
#define STRHX_245 "\xf5"
#define STRHX_246 "\xf6"
#define STRHX_247 "\xf7"
#define STRHX_248 "\xf8"
#define STRHX_249 "\xf9"
#define STRHX_250 "\xfa"
#define STRHX_251 "\xfb"
#define STRHX_252 "\xfc"
#define STRHX_253 "\xfd"
#define STRHX_254 "\xfe"
#define STRHX_255 "\xff"

#endif // __TE_FONT_H__